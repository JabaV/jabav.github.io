{{- /* Footer custom content area start */ -}}
{{- /*     Insert any custom code web-analytics, resources, etc. here */ -}}
{{- /* Footer custom content area end */ -}}

{{ if .Params.swiper }}
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const swiper = new Swiper('.swiper', {
      loop: false,
      direction: 'horizontal',
      slidesPerView: 1,
      spaceBetween: 30,
      mousewheel: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      on: {
        init: function() {
          updatePagination(this);
        },
        slideChange: function() {
          updatePagination(this);
        }
      }
    });
  
    function updatePagination(instance) {
      const current = document.querySelector('.custom-pagination .current');
      const total = document.querySelector('.custom-pagination .total');
      
      if(current && total) {
        // Для loop-режима корректируем индекс
        const realIndex = instance.realIndex + 1;
        current.textContent = realIndex;
        total.textContent = instance.slides.length - (instance.params.loop ? 2 : 0);
      }
    }
  });
  </script>
{{ end }}
